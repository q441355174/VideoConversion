<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:VideoConversion_ClientTo.Presentation.ViewModels"
        x:Class="VideoConversion_ClientTo.Views.SystemSetting.SystemSettingsWindow"
        x:DataType="vm:SystemSettingsViewModel"
        Title="ç³»ç»Ÿè®¾ç½®"
        Width="600" Height="500"
        MinWidth="500" MinHeight="400"
        WindowStartupLocation="CenterOwner"
        CanResize="True">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- æ ‡é¢˜ -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
            <TextBlock Text="âš™ï¸" FontSize="24" VerticalAlignment="Center" Margin="0,0,10,0" />
            <TextBlock Text="ç³»ç»Ÿè®¾ç½®"
                       FontSize="20"
                       FontWeight="Bold"
                       VerticalAlignment="Center" />
        </StackPanel>

        <!-- è®¾ç½®å†…å®¹ -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Spacing="20">

                <!-- æœåŠ¡å™¨çŠ¶æ€æ¦‚è§ˆ - å§‹ç»ˆæ˜¾ç¤ºï¼Œæ ¹æ®è¿žæŽ¥çŠ¶æ€è°ƒæ•´å†…å®¹ -->
                <Border Background="#e8f4fd"
                        BorderBrush="#3498db"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15">
                    <!-- ä½¿ç”¨Gridä½œä¸ºå®¹å™¨ï¼ŒåŒ…å«ä¸¤ç§æ˜¾ç¤ºçŠ¶æ€ -->
                    <Grid>
                        <!-- æœåŠ¡å™¨åœ¨çº¿æ—¶æ˜¾ç¤ºçš„å†…å®¹ -->
                        <Grid IsVisible="{Binding IsServerOnline}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Spacing="5">
                                <TextBlock Text="ðŸ–¥ï¸ æœåŠ¡å™¨ä¿¡æ¯" FontWeight="SemiBold" FontSize="12" Foreground="#2c3e50"/>
                                <TextBlock Text="{Binding ServerVersion, StringFormat='ç‰ˆæœ¬: {0}'}" FontSize="11" Foreground="#34495e"/>
                                <TextBlock Text="{Binding FfmpegVersion, StringFormat='FFmpeg: {0}'}" FontSize="11" Foreground="#34495e"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Spacing="5">
                                <TextBlock Text="ðŸ“Š ç³»ç»ŸçŠ¶æ€" FontWeight="SemiBold" FontSize="12" Foreground="#2c3e50"/>
                                <TextBlock Text="{Binding TaskStatusDisplay}" FontSize="11" Foreground="#34495e"/>
                                <TextBlock Text="{Binding FormattedCpuUsage, StringFormat='CPU: {0}'}" FontSize="11" Foreground="#34495e"/>
                                <TextBlock Text="{Binding FormattedMemoryUsage, StringFormat='å†…å­˜: {0}'}" FontSize="11" Foreground="#34495e"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2" Spacing="5">
                                <TextBlock Text="ðŸ’¾ ç£ç›˜ç©ºé—´" FontWeight="SemiBold" FontSize="12" Foreground="#2c3e50"/>
                                <TextBlock Text="{Binding FormattedDiskSpace}" FontSize="11" Foreground="#34495e"/>
                                <ProgressBar Value="{Binding DiskUsagePercentage}"
                                           Maximum="100"
                                           Height="8"
                                           CornerRadius="4"
                                           Foreground="#3498db"
                                           Background="#ecf0f1"/>
                            </StackPanel>
                        </Grid>

                        <!-- æœåŠ¡å™¨æœªè¿žæŽ¥æ—¶æ˜¾ç¤ºçš„å†…å®¹ -->
                        <StackPanel IsVisible="{Binding !IsServerOnline}"
                                  HorizontalAlignment="Center"
                                  VerticalAlignment="Center"
                                  Spacing="10">
                            <TextBlock Text="ðŸ”Œ æœåŠ¡å™¨æœªè¿žæŽ¥"
                                     FontWeight="SemiBold"
                                     FontSize="14"
                                     Foreground="#e74c3c"
                                     HorizontalAlignment="Center"/>
                            <TextBlock Text="è¯·è®¾ç½®æœåŠ¡å™¨åœ°å€å¹¶æµ‹è¯•è¿žæŽ¥"
                                     FontSize="12"
                                     Foreground="#7f8c8d"
                                     HorizontalAlignment="Center"/>
                            <TextBlock Text="{Binding ConnectionStatus, StringFormat='çŠ¶æ€: {0}'}"
                                     FontSize="11"
                                     Foreground="#95a5a6"
                                     HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- æœåŠ¡å™¨è®¾ç½® -->
                <Border Background="#f8f9fa"
                        CornerRadius="8"
                        Padding="20">
                    <StackPanel Spacing="15">
                        <TextBlock Text="ðŸŒ æœåŠ¡å™¨è®¾ç½®"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="#2c3e50" />

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="æœåŠ¡å™¨åœ°å€:"
                                       VerticalAlignment="Center"
                                       FontWeight="Medium" />

                            <TextBox Grid.Column="1"
                                     Name="ServerAddressTextBox"
                                     Text="{Binding ServerAddress}"
                                     Margin="10,0"
                                     Padding="10,8"
                                     CornerRadius="4"
                                     Watermark="http://localhost:5065" />

                            <Button Grid.Column="2"
                                    Name="TestConnectionBtn"
                                    Content="æµ‹è¯•è¿žæŽ¥"
                                    Background="#3498db"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="15,8"
                                    CornerRadius="4"
                                    IsEnabled="{Binding !IsTestingConnection}"
                                    Command="{Binding TestConnectionCommand}">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover">
                                        <Setter Property="Background" Value="#2980b9" />
                                    </Style>
                                </Button.Styles>
                            </Button>
                        </Grid>

                        <!-- è¿žæŽ¥çŠ¶æ€æŒ‡ç¤ºå™¨ -->
                        <StackPanel Name="ConnectionStatusPanel"
                                    Orientation="Horizontal"
                                    Spacing="8">
                            <Border Name="ConnectionStatusIndicator"
                                    Width="12" Height="12"
                                    CornerRadius="6"
                                    Background="{Binding ConnectionStatusColor}" />
                            <TextBlock Name="ConnectionStatusText"
                                       Text="{Binding ConnectionStatus}"
                                       FontSize="12"
                                       VerticalAlignment="Center" />
                        </StackPanel>

                        <!-- æœåŠ¡å™¨åŠŸèƒ½çŠ¶æ€ - å§‹ç»ˆæ˜¾ç¤ºè¿žæŽ¥çŠ¶æ€ -->
                        <Border Background="#e8f4fd"
                                BorderBrush="#3498db"
                                BorderThickness="1"
                                CornerRadius="4"
                                Padding="10">
                            <StackPanel Spacing="8">
                                <!-- å§‹ç»ˆæ˜¾ç¤ºè¿žæŽ¥çŠ¶æ€æ–‡æœ¬ -->
                                <TextBlock Text="{Binding ServerFeatureStatusText}"
                                         FontSize="12"
                                         FontWeight="SemiBold"
                                         Foreground="#2c3e50"/>

                                <!-- æœåŠ¡å™¨åœ¨çº¿æ—¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ -->
                                <Grid IsVisible="{Binding IsServerOnline}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0" Spacing="3">
                                        <TextBlock Text="{Binding ServerVersion, StringFormat='æœåŠ¡å™¨: {0}'}" FontSize="11" Foreground="#34495e"/>
                                        <TextBlock Text="{Binding FfmpegVersion, StringFormat='FFmpeg: {0}'}" FontSize="11" Foreground="#34495e"/>
                                    </StackPanel>

                                    <StackPanel Grid.Column="1" Spacing="3">
                                        <TextBlock Text="{Binding TaskStatusDisplay}" FontSize="11" Foreground="#34495e"/>
                                        <TextBlock Text="{Binding FormattedDiskSpace, StringFormat='ç£ç›˜: {0}'}" FontSize="11" Foreground="#34495e"/>
                                    </StackPanel>
                                </Grid>

                                <!-- æœåŠ¡å™¨ç¦»çº¿æ—¶æ˜¾ç¤ºæç¤ºä¿¡æ¯ -->
                                <StackPanel IsVisible="{Binding !IsServerOnline}" Spacing="5">
                                    <TextBlock Text="ðŸ’¡ æç¤ºï¼šè¿žæŽ¥æœåŠ¡å™¨åŽå¯æŸ¥çœ‹è¯¦ç»†çš„ç³»ç»Ÿä¿¡æ¯"
                                             FontSize="11"
                                             Foreground="#f39c12"
                                             TextWrapping="Wrap"/>
                                    <TextBlock Text="â€¢ æœåŠ¡å™¨ç‰ˆæœ¬å’ŒFFmpegä¿¡æ¯" FontSize="10" Foreground="#7f8c8d"/>
                                    <TextBlock Text="â€¢ å®žæ—¶ä»»åŠ¡çŠ¶æ€å’Œç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ" FontSize="10" Foreground="#7f8c8d"/>
                                    <TextBlock Text="â€¢ ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µ" FontSize="10" Foreground="#7f8c8d"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>

                <!-- å¹¶å‘è®¾ç½® -->
                <Border Background="#f8f9fa"
                        CornerRadius="8"
                        Padding="20">
                    <StackPanel Spacing="15">
                        <TextBlock Text="âš¡ å¹¶å‘è®¾ç½®"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="#2c3e50" />

                        <!-- åŒæ—¶ä¸Šä¼ æ•°é‡ -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="åŒæ—¶ä¸Šä¼ æ•°é‡:"
                                       VerticalAlignment="Center"
                                       FontWeight="Medium"
                                       Margin="0,0,15,0" />

                            <Slider Grid.Column="1"
                                    Name="MaxUploadsSlider"
                                    Value="{Binding MaxConcurrentUploads}"
                                    Minimum="1" Maximum="10"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"
                                    Margin="10,0" />

                            <TextBlock Grid.Column="2"
                                       Name="MaxUploadsValueText"
                                       Text="{Binding MaxConcurrentUploads}"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Left"
                                       FontWeight="Bold"
                                       Margin="10,0,0,0"
                                       FontSize="14" />
                        </Grid>

                        <!-- åŒæ—¶ä¸‹è½½æ•°é‡ -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="åŒæ—¶ä¸‹è½½æ•°é‡:"
                                       VerticalAlignment="Center"
                                       FontWeight="Medium"
                                       Margin="0,0,15,0" />

                            <Slider Grid.Column="1"
                                    Name="MaxDownloadsSlider"
                                    Value="{Binding MaxConcurrentDownloads}"
                                    Minimum="1" Maximum="10"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"
                                    Margin="10,0" />

                            <TextBlock Grid.Column="2"
                                       Name="MaxDownloadsValueText"
                                       Text="{Binding MaxConcurrentDownloads}"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Left"
                                       FontWeight="Bold"
                                       FontSize="14"
                                       Margin="10,0,0,0" />
                        </Grid>

                        <!-- åˆ†ç‰‡å¹¶å‘æ•°è®¾ç½® -->
                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"
                                       Text="åˆ†ç‰‡å¹¶å‘æ•°:"
                                       VerticalAlignment="Center"
                                       FontWeight="Medium"
                                       Margin="0,0,15,0" />

                            <Slider Grid.Column="1"
                                    Name="MaxChunksSlider"
                                    Value="{Binding MaxConcurrentChunks}"
                                    Minimum="1" Maximum="8"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"
                                    Margin="10,0" />

                            <TextBlock Grid.Column="2"
                                       Name="MaxChunksValueText"
                                       Text="{Binding MaxConcurrentChunks}"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Left"
                                       FontWeight="Bold"
                                       FontSize="14"
                                       Margin="10,0,0,0" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- å…¶ä»–è®¾ç½® -->
                <Border Background="#f8f9fa"
                        CornerRadius="8"
                        Padding="20">
                    <StackPanel Spacing="15">
                        <TextBlock Text="ðŸ”§ å…¶ä»–è®¾ç½®"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="#2c3e50" />

                        <!-- è‡ªåŠ¨å¼€å§‹è½¬æ¢ -->
                        <CheckBox Name="AutoStartConversionCheckBox"
                                  IsChecked="{Binding AutoStartConversion}"
                                  Content="ä¸Šä¼ å®ŒæˆåŽè‡ªåŠ¨å¼€å§‹è½¬æ¢"
                                  FontWeight="Medium" />

                        <!-- æ˜¾ç¤ºé€šçŸ¥ -->
                        <CheckBox Name="ShowNotificationsCheckBox"
                                  IsChecked="{Binding ShowNotifications}"
                                  Content="æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥"
                                  FontWeight="Medium" />

                        <!-- é»˜è®¤è¾“å‡ºè·¯å¾„ -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="é»˜è®¤è¾“å‡ºè·¯å¾„:"
                                       VerticalAlignment="Center"
                                       FontWeight="Medium" />

                            <TextBox Grid.Column="1"
                                     Name="DefaultOutputPathTextBox"
                                     Text="{Binding DefaultOutputPath}"
                                     Margin="10,0"
                                     Padding="10,8"
                                     CornerRadius="4"
                                     IsReadOnly="True"
                                     Watermark="é€‰æ‹©é»˜è®¤è¾“å‡ºæ–‡ä»¶å¤¹" />

                            <Button Grid.Column="2"
                                    Name="BrowseOutputPathBtn"
                                    Content="æµè§ˆ..."
                                    Background="#95a5a6"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="15,8"
                                    CornerRadius="4"
                                    Command="{Binding BrowseOutputPathCommand}">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover">
                                        <Setter Property="Background" Value="#7f8c8d" />
                                    </Style>
                                </Button.Styles>
                            </Button>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- ç³»ç»Ÿä¿¡æ¯ -->
                <Border Background="#f8f9fa"
                        CornerRadius="8"
                        Padding="20">
                    <StackPanel Spacing="15">
                        <TextBlock Text="â„¹ï¸ ç³»ç»Ÿä¿¡æ¯"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="#2c3e50" />

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <!-- å·¦åˆ— -->
                            <StackPanel Grid.Column="0" Spacing="8" Margin="0,0,10,0">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="æœåŠ¡å™¨ç‰ˆæœ¬:" FontSize="11" Foreground="#6c757d" Width="80" />
                                    <TextBlock Name="ServerVersionText" Text="{Binding ServerVersion}" FontSize="11" FontWeight="Medium" />
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="FFmpegç‰ˆæœ¬:" FontSize="11" Foreground="#6c757d" Width="80" />
                                    <TextBlock Name="FFmpegVersionText" Text="{Binding FfmpegVersion}" FontSize="11" FontWeight="Medium" />
                                </StackPanel>
                            </StackPanel>

                            <!-- å³åˆ— -->
                            <StackPanel Grid.Column="1" Spacing="8" Margin="10,0,0,0">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="ç¡¬ä»¶åŠ é€Ÿ:" FontSize="11" Foreground="#6c757d" Width="80" />
                                    <TextBlock Name="HardwareAccelText" Text="{Binding HardwareAcceleration}" FontSize="11" FontWeight="Medium" Foreground="#28a745" />
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="è¿è¡Œæ—¶é—´:" FontSize="11" Foreground="#6c757d" Width="80" />
                                    <TextBlock Name="UptimeText" Text="{Binding Uptime}" FontSize="11" FontWeight="Medium" />
                                </StackPanel>
                            </StackPanel>
                        </Grid>

                        <!-- æœåŠ¡å™¨åŠŸèƒ½æŒ‰é’®ç»„ -->
                        <StackPanel Spacing="10">
                            <!-- åˆ·æ–°ç³»ç»Ÿä¿¡æ¯ -->
                            <Button Name="RefreshSystemInfoBtn"
                                    Content="ðŸ”„ åˆ·æ–°ç³»ç»Ÿä¿¡æ¯"
                                    Background="#17a2b8"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="15,8"
                                    CornerRadius="4"
                                    HorizontalAlignment="Left"
                                    IsEnabled="{Binding CanAccessServerFeatures}"
                                    Command="{Binding RefreshSystemInfoCommand}">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover">
                                        <Setter Property="Background" Value="#138496" />
                                    </Style>
                                    <Style Selector="Button:disabled">
                                        <Setter Property="Background" Value="#6c757d" />
                                        <Setter Property="Opacity" Value="0.6" />
                                    </Style>
                                </Button.Styles>
                            </Button>



                            <!-- åŠŸèƒ½çŠ¶æ€æç¤º -->
                            <TextBlock Text="{Binding ServerFeatureStatusText}"
                                     FontSize="11"
                                     Foreground="#6c757d"
                                     HorizontalAlignment="Center"
                                     Margin="0,5,0,0"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- ç³»ç»Ÿè¯Šæ–­ -->
                <Border Background="#f8f9fa"
                        CornerRadius="8"
                        Padding="20">
                    <StackPanel Spacing="15">
                        <TextBlock Text="ðŸ”§ ç³»ç»Ÿç®¡ç†"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="#2c3e50" />

                        <!-- ç³»ç»Ÿç®¡ç†æŒ‰é’® - ä¸ŽClienté¡¹ç›®å¸ƒå±€ä¸€è‡´ -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Button Grid.Column="0"
                                    Name="ConfigSpaceBtn"
                                    Content="ðŸ’¾ é…ç½®ç£ç›˜ç©ºé—´"
                                    Background="#007bff"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="12,8"
                                    CornerRadius="4"
                                    Margin="0,0,5,0"
                                    IsEnabled="{Binding CanAccessServerFeatures}"
                                    Command="{Binding ConfigureDiskSpaceCommand}">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover">
                                        <Setter Property="Background" Value="#0056b3" />
                                    </Style>
                                    <Style Selector="Button:disabled">
                                        <Setter Property="Background" Value="#6c757d" />
                                        <Setter Property="Opacity" Value="0.6" />
                                    </Style>
                                </Button.Styles>
                            </Button>

                            <Button Grid.Column="1"
                                    Name="CleanupFilesBtn"
                                    Content="ðŸ—‘ï¸ æ¸…ç†ä¸´æ—¶æ–‡ä»¶"
                                    Background="#28a745"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="12,8"
                                    CornerRadius="4"
                                    Margin="5,0"
                                    Command="{Binding CleanupFilesCommand}">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover">
                                        <Setter Property="Background" Value="#218838" />
                                    </Style>
                                </Button.Styles>
                            </Button>

                            <Button Grid.Column="2"
                                    Name="ViewLogsBtn"
                                    Content="ðŸ“‹ æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—"
                                    Background="#6c757d"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="12,8"
                                    CornerRadius="4"
                                    Margin="5,0,0,0"
                                    IsEnabled="{Binding CanAccessServerFeatures}"
                                    Command="{Binding ViewSystemLogsCommand}">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover">
                                        <Setter Property="Background" Value="#5a6268" />
                                    </Style>
                                    <Style Selector="Button:disabled">
                                        <Setter Property="Background" Value="#6c757d" />
                                        <Setter Property="Opacity" Value="0.6" />
                                    </Style>
                                </Button.Styles>
                            </Button>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- æ•°æ®åº“ä¿¡æ¯ -->
                <Border Background="#f8f9fa"
                        CornerRadius="8"
                        Padding="20">
                    <StackPanel Spacing="15">
                        <TextBlock Text="ðŸ’¾ æ•°æ®åº“ä¿¡æ¯"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="#2c3e50" />

                        <!-- æ•°æ®åº“è·¯å¾„ -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="æ•°æ®åº“è·¯å¾„:"
                                       VerticalAlignment="Center"
                                       FontWeight="Medium" />

                            <TextBox Grid.Column="1"
                                     Name="DatabasePathTextBox"
                                     Text="{Binding DatabasePath}"
                                     Margin="10,0"
                                     Padding="10,8"
                                     CornerRadius="4"
                                     IsReadOnly="True"
                                     FontSize="12" />

                            <Button Grid.Column="2"
                                    Name="OpenDatabaseFolderBtn"
                                    Content="æ‰“å¼€æ–‡ä»¶å¤¹"
                                    Background="#17a2b8"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="15,8"
                                    CornerRadius="4"
                                    Command="{Binding OpenDatabaseFolderCommand}">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover">
                                        <Setter Property="Background" Value="#138496" />
                                    </Style>
                                </Button.Styles>
                            </Button>
                        </Grid>

                        <!-- æ•°æ®åº“çŠ¶æ€ -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="æ•°æ®åº“çŠ¶æ€:"
                                       VerticalAlignment="Center"
                                       FontWeight="Medium" />

                            <StackPanel Grid.Column="1"
                                        Orientation="Horizontal"
                                        Spacing="10"
                                        Margin="10,0">
                                <Border Name="DatabaseStatusIndicator"
                                        Width="12" Height="12"
                                        CornerRadius="6"
                                        Background="Gray"
                                        VerticalAlignment="Center" />
                                <TextBlock Name="DatabaseStatusText"
                                           Text="{Binding DatabaseStatus}"
                                           FontSize="12"
                                           VerticalAlignment="Center" />
                                <TextBlock Name="DatabaseSizeText"
                                           Text="{Binding DatabaseSize}"
                                           FontSize="12"
                                           VerticalAlignment="Center"
                                           Foreground="#666" />
                            </StackPanel>

                            <Button Grid.Column="2"
                                    Name="BackupDatabaseBtn"
                                    Content="å¤‡ä»½"
                                    Background="#28a745"
                                    Foreground="White"
                                    BorderThickness="0"
                                    Padding="15,8"
                                    CornerRadius="4"
                                    Margin="0,0,5,0"
                                    Command="{Binding BackupDatabaseCommand}">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover">
                                        <Setter Property="Background" Value="#218838" />
                                    </Style>
                                </Button.Styles>
                            </Button>

                            <Button Grid.Column="3"
                                    Name="RestoreDatabaseBtn"
                                    Content="æ¢å¤"
                                    Background="#ffc107"
                                    Foreground="#212529"
                                    BorderThickness="0"
                                    Padding="15,8"
                                    CornerRadius="4"
                                    Command="{Binding RestoreDatabaseCommand}">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover">
                                        <Setter Property="Background" Value="#e0a800" />
                                    </Style>
                                </Button.Styles>
                            </Button>
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- åº•éƒ¨æŒ‰é’® -->
        <Grid Grid.Row="2" Margin="0,20,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0"
                    Name="ResetBtn"
                    Content="é‡ç½®é»˜è®¤"
                    Background="#e74c3c"
                    Foreground="White"
                    BorderThickness="0"
                    Padding="20,10"
                    CornerRadius="6"
                    Command="{Binding ResetSettingsCommand}">
                <Button.Styles>
                    <Style Selector="Button:pointerover">
                        <Setter Property="Background" Value="#c0392b" />
                    </Style>
                </Button.Styles>
            </Button>

            <Button Grid.Column="2"
                    Name="CancelBtn"
                    Content="å–æ¶ˆ"
                    Background="#95a5a6"
                    Foreground="White"
                    BorderThickness="0"
                    Padding="20,10"
                    CornerRadius="6"
                    Margin="0,0,10,0"
                    Click="CancelBtn_Click">
                <Button.Styles>
                    <Style Selector="Button:pointerover">
                        <Setter Property="Background" Value="#7f8c8d" />
                    </Style>
                </Button.Styles>
            </Button>

            <Button Grid.Column="3"
                    Name="SaveBtn"
                    Content="ä¿å­˜è®¾ç½®"
                    Background="#27ae60"
                    Foreground="White"
                    BorderThickness="0"
                    Padding="20,10"
                    CornerRadius="6"
                    Command="{Binding SaveSettingsCommand}">
                <Button.Styles>
                    <Style Selector="Button:pointerover">
                        <Setter Property="Background" Value="#229954" />
                    </Style>
                </Button.Styles>
            </Button>
        </Grid>
    </Grid>
</Window>