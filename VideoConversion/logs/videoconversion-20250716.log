[2025-07-16 17:01:15.488 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\administer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-07-16 17:01:15.660 INF] VideoConversion.Services.ConversionQueueService: 转换队列服务启动
[2025-07-16 17:01:15.895 INF] VideoConversion.Services.DatabaseService: 数据库初始化完成
[2025-07-16 17:01:15.898 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:01:15.986 INF] VideoConversion.Services.FileCleanupService: 文件清理服务启动，清理间隔: 60 分钟
[2025-07-16 17:01:15.992 INF] VideoConversion.Services.FileCleanupService: 开始清理旧文件和任务记录
[2025-07-16 17:01:16.008 INF] VideoConversion.Services.DatabaseService: 清理了 0 个旧任务
[2025-07-16 17:01:16.011 INF] VideoConversion.Services.FileService: 清理了 0 个旧文件
[2025-07-16 17:01:16.108 INF] Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5065
[2025-07-16 17:01:16.173 INF] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
[2025-07-16 17:01:16.174 INF] Microsoft.Hosting.Lifetime: Hosting environment: Development
[2025-07-16 17:01:16.176 INF] Microsoft.Hosting.Lifetime: Content root path: E:\newcode\VideoConversion\VideoConversion
[2025-07-16 17:01:17.234 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/ - null null
[2025-07-16 17:01:17.370 WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware: Failed to determine the https port for redirect.
[2025-07-16 17:01:17.384 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/Index'
[2025-07-16 17:01:17.405 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
[2025-07-16 17:01:17.412 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executing handler method VideoConversion.Pages.IndexModel.OnGet - ModelState is "Valid"
[2025-07-16 17:01:17.415 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed handler method OnGet, returned result .
[2025-07-16 17:01:17.417 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executing an implicit handler method - ModelState is "Valid"
[2025-07-16 17:01:17.419 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
[2025-07-16 17:01:17.545 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed page /Index in 136.499ms
[2025-07-16 17:01:17.547 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/Index'
[2025-07-16 17:01:17.555 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/ - 200 null text/html; charset=utf-8 326.3196ms
[2025-07-16 17:01:17.557 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/_framework/aspnetcore-browser-refresh.js - null null
[2025-07-16 17:01:17.557 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/css/site.css?v=pAGv4ietcJNk_EwsQZ5BN9-K4MuNYS2a9wl4Jw-q9D0 - null null
[2025-07-16 17:01:17.557 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/lib/jquery/dist/jquery.min.js - null null
[2025-07-16 17:01:17.557 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/VideoConversion.styles.css?v=PI3OHTT3KATMoDYfieXoy--lQvx9G0lOLtvDCroSDOo - null null
[2025-07-16 17:01:17.557 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
[2025-07-16 17:01:17.559 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/lib/bootstrap/dist/css/bootstrap.min.css - null null
[2025-07-16 17:01:17.562 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 10.4305ms
[2025-07-16 17:01:17.567 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /VideoConversion.styles.css was not modified
[2025-07-16 17:01:17.567 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/jquery/dist/jquery.min.js was not modified
[2025-07-16 17:01:17.567 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /css/site.css was not modified
[2025-07-16 17:01:17.567 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js was not modified
[2025-07-16 17:01:17.568 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified
[2025-07-16 17:01:17.571 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/js/site.js?v=hRQyftXiu1lLX2P9Ly9xa4gHJgLeR1uGN5qegUobtGo - null null
[2025-07-16 17:01:17.572 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/lib/jquery/dist/jquery.min.js - 304 null text/javascript 20.4515ms
[2025-07-16 17:01:17.572 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/VideoConversion.styles.css?v=PI3OHTT3KATMoDYfieXoy--lQvx9G0lOLtvDCroSDOo - 304 null text/css 20.4515ms
[2025-07-16 17:01:17.573 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/css/site.css?v=pAGv4ietcJNk_EwsQZ5BN9-K4MuNYS2a9wl4Jw-q9D0 - 304 null text/css 21.2876ms
[2025-07-16 17:01:17.574 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 304 null text/javascript 22.2034ms
[2025-07-16 17:01:17.575 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/lib/bootstrap/dist/css/bootstrap.min.css - 304 null text/css 15.8327ms
[2025-07-16 17:01:17.580 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js - null null
[2025-07-16 17:01:17.577 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /js/site.js was not modified
[2025-07-16 17:01:17.586 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/_vs/browserLink - null null
[2025-07-16 17:01:17.588 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/signalr/dist/browser/signalr.min.js was not modified
[2025-07-16 17:01:17.589 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/js/site.js?v=hRQyftXiu1lLX2P9Ly9xa4gHJgLeR1uGN5qegUobtGo - 304 null text/javascript 17.6637ms
[2025-07-16 17:01:17.591 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js - 304 null text/javascript 11.4475ms
[2025-07-16 17:01:17.645 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - null 0
[2025-07-16 17:01:17.654 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:01:17.654 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/api/conversion/recent - null null
[2025-07-16 17:01:17.655 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.1617ms
[2025-07-16 17:01:17.657 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub/negotiate'
[2025-07-16 17:01:17.659 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'VideoConversion.Controllers.ConversionController.GetRecentTasks (VideoConversion)'
[2025-07-16 17:01:17.671 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
[2025-07-16 17:01:17.672 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js.map - null null
[2025-07-16 17:01:17.675 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/conversionHub/negotiate'
[2025-07-16 17:01:17.678 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - 200 316 application/json 32.5266ms
[2025-07-16 17:01:17.679 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js.map - 404 0 null 7.6261ms
[2025-07-16 17:01:17.685 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js.map, Response status code: 404
[2025-07-16 17:01:17.686 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'E:\newcode\VideoConversion\VideoConversion\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
[2025-07-16 17:01:17.689 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetRecentTasks", controller = "Conversion", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentTasks(Int32) on controller VideoConversion.Controllers.ConversionController (VideoConversion).
[2025-07-16 17:01:17.695 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/conversionHub?id=XYcYFe_MdaPydWciXIo2hg - null null
[2025-07-16 17:01:17.697 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 200 327261 text/plain 26.383ms
[2025-07-16 17:01:17.701 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:01:17.701 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:01:17.705 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub'
[2025-07-16 17:01:17.723 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js.map - null null
[2025-07-16 17:01:17.729 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js.map - 404 0 null 6.0108ms
[2025-07-16 17:01:17.733 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js.map, Response status code: 404
[2025-07-16 17:01:17.736 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`8[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[VideoConversion.Models.ConversionStatus, VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-07-16 17:01:17.743 INF] VideoConversion.Hubs.ConversionHub: 客户端连接: FI3Rm_WjiQWrVv5959-0Xw
[2025-07-16 17:01:17.762 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action VideoConversion.Controllers.ConversionController.GetRecentTasks (VideoConversion) in 62.7122ms
[2025-07-16 17:01:17.764 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'VideoConversion.Controllers.ConversionController.GetRecentTasks (VideoConversion)'
[2025-07-16 17:01:17.764 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/api/conversion/recent - 200 null application/json; charset=utf-8 110.0081ms
[2025-07-16 17:01:25.995 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:01:27.895 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/test.html - null null
[2025-07-16 17:01:27.899 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /test.html was not modified
[2025-07-16 17:01:27.901 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/test.html - 304 null text/html 5.252ms
[2025-07-16 17:01:27.923 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/.well-known/appspecific/com.chrome.devtools.json - null null
[2025-07-16 17:01:27.925 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 2.616ms
[2025-07-16 17:01:27.927 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5065/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
[2025-07-16 17:01:27.930 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js - null null
[2025-07-16 17:01:27.934 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /lib/signalr/dist/browser/signalr.min.js was not modified
[2025-07-16 17:01:27.935 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js - 304 null text/javascript 4.7776ms
[2025-07-16 17:01:27.938 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/_vs/browserLink - null null
[2025-07-16 17:01:27.939 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/_framework/aspnetcore-browser-refresh.js - null null
[2025-07-16 17:01:27.944 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 4.1395ms
[2025-07-16 17:01:27.944 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.0131ms
[2025-07-16 17:01:28.211 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js.map - null null
[2025-07-16 17:01:28.214 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js.map - 404 0 null 3.0663ms
[2025-07-16 17:01:28.215 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5065/lib/signalr/dist/browser/signalr.min.js.map, Response status code: 404
[2025-07-16 17:01:28.253 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/api/health - null null
[2025-07-16 17:01:28.256 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'VideoConversion.Controllers.HealthController.GetHealth (VideoConversion)'
[2025-07-16 17:01:28.261 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetHealth", controller = "Health", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetHealth() on controller VideoConversion.Controllers.HealthController (VideoConversion).
[2025-07-16 17:01:28.264 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType8`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-16 17:01:28.269 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action VideoConversion.Controllers.HealthController.GetHealth (VideoConversion) in 5.643ms
[2025-07-16 17:01:28.270 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'VideoConversion.Controllers.HealthController.GetHealth (VideoConversion)'
[2025-07-16 17:01:28.273 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/api/health - 200 null application/json; charset=utf-8 19.5702ms
[2025-07-16 17:01:29.257 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - null 0
[2025-07-16 17:01:29.259 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:01:29.260 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub/negotiate'
[2025-07-16 17:01:29.261 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/conversionHub/negotiate'
[2025-07-16 17:01:29.262 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - 200 316 application/json 4.5361ms
[2025-07-16 17:01:29.264 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/conversionHub?id=0QHMXV2dUe93qzgCsHX4Ag - null null
[2025-07-16 17:01:29.265 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:01:29.266 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub'
[2025-07-16 17:01:29.269 INF] VideoConversion.Hubs.ConversionHub: 客户端连接: TzksGvHMl2iUz1uXx5aaFw
[2025-07-16 17:01:29.376 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - null 0
[2025-07-16 17:01:29.377 INF] VideoConversion.Hubs.ConversionHub: 客户端断开连接: TzksGvHMl2iUz1uXx5aaFw
[2025-07-16 17:01:29.378 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:01:29.379 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub/negotiate'
[2025-07-16 17:01:29.380 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/conversionHub/negotiate'
[2025-07-16 17:01:29.380 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/conversionHub'
[2025-07-16 17:01:29.380 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - 200 316 application/json 4.2475ms
[2025-07-16 17:01:29.381 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/conversionHub?id=0QHMXV2dUe93qzgCsHX4Ag - 101 null null 117.494ms
[2025-07-16 17:01:29.382 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/conversionHub?id=A1XBpsN0ftnxBFSliRVykA - null null
[2025-07-16 17:01:29.385 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:01:29.386 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub'
[2025-07-16 17:01:29.388 INF] VideoConversion.Hubs.ConversionHub: 客户端连接: hb5ByHYbIeooi4wmVOq-ow
[2025-07-16 17:01:30.078 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/api/health - null null
[2025-07-16 17:01:30.080 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'VideoConversion.Controllers.HealthController.GetHealth (VideoConversion)'
[2025-07-16 17:01:30.081 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetHealth", controller = "Health", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetHealth() on controller VideoConversion.Controllers.HealthController (VideoConversion).
[2025-07-16 17:01:30.082 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType8`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-16 17:01:30.083 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action VideoConversion.Controllers.HealthController.GetHealth (VideoConversion) in 1.0408ms
[2025-07-16 17:01:30.084 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'VideoConversion.Controllers.HealthController.GetHealth (VideoConversion)'
[2025-07-16 17:01:30.084 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/api/health - 200 null application/json; charset=utf-8 6.025ms
[2025-07-16 17:01:33.762 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5065/api/conversion/start - multipart/form-data; boundary=----WebKitFormBoundarydxMQfGQBbEgVBuFA 812076360
[2025-07-16 17:01:33.764 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:01:33.765 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'VideoConversion.Controllers.ConversionController.StartConversion (VideoConversion)'
[2025-07-16 17:01:33.770 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "StartConversion", controller = "Conversion", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StartConversion(VideoConversion.Controllers.StartConversionRequest) on controller VideoConversion.Controllers.ConversionController (VideoConversion).
[2025-07-16 17:01:33.771 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:01:35.413 INF] VideoConversion.Controllers.ConversionController: === 开始处理转换请求 ===
[2025-07-16 17:01:35.414 INF] VideoConversion.Controllers.ConversionController: 客户端IP: ::1
[2025-07-16 17:01:35.415 INF] VideoConversion.Controllers.ConversionController: 请求文件: [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv
[2025-07-16 17:01:35.415 INF] VideoConversion.Controllers.ConversionController: 任务名称: Test Upload - [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv
[2025-07-16 17:01:35.416 INF] VideoConversion.Controllers.ConversionController: 预设: Fast 1080p30
[2025-07-16 17:01:35.416 INF] VideoConversion.Services.LoggingService: 文件上传 - FileName: [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv, FileSize: 812075777, ClientIP: ::1
[2025-07-16 17:01:35.417 INF] VideoConversion.Controllers.ConversionController: 开始文件验证: [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv (812075777 bytes)
[2025-07-16 17:01:35.418 INF] VideoConversion.Controllers.ConversionController: ✅ 文件验证通过，开始保存文件: [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv
[2025-07-16 17:01:35.419 INF] VideoConversion.Controllers.ConversionController: 开始保存文件到服务器...
[2025-07-16 17:01:36.006 INF] VideoConversion.Services.FileService: 文件保存成功: uploads\[Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E]_20250716_170135_92cdc8e6.mkv
[2025-07-16 17:01:36.007 INF] VideoConversion.Controllers.ConversionController: ✅ 文件保存成功: uploads\[Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E]_20250716_170135_92cdc8e6.mkv
[2025-07-16 17:01:36.008 INF] VideoConversion.Controllers.ConversionController: 获取转换预设: Fast 1080p30
[2025-07-16 17:01:36.009 INF] VideoConversion.Controllers.ConversionController: 使用预设: Fast 1080p30 -> mp4
[2025-07-16 17:01:36.009 INF] VideoConversion.Controllers.ConversionController: 应用自定义设置...
[2025-07-16 17:01:36.010 INF] VideoConversion.Controllers.ConversionController: 生成输出文件路径...
[2025-07-16 17:01:36.011 INF] VideoConversion.Controllers.ConversionController: 输出文件路径: outputs\Test Upload - [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv_converted_20250716_170136.mp4
[2025-07-16 17:01:36.011 INF] VideoConversion.Controllers.ConversionController: 开始创建转换任务对象...
[2025-07-16 17:01:36.013 INF] VideoConversion.Controllers.ConversionController: ✅ 任务对象创建完成
[2025-07-16 17:01:36.014 INF] VideoConversion.Controllers.ConversionController: 任务ID: 21f9a921-f6c6-47fc-8317-aeaa0463dacb
[2025-07-16 17:01:36.015 INF] VideoConversion.Controllers.ConversionController: 任务名称: Test Upload - [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv
[2025-07-16 17:01:36.016 INF] VideoConversion.Controllers.ConversionController: 输入格式: mkv
[2025-07-16 17:01:36.016 INF] VideoConversion.Controllers.ConversionController: 输出格式: mp4
[2025-07-16 17:01:36.017 INF] VideoConversion.Controllers.ConversionController: 视频编码: libx264
[2025-07-16 17:01:36.018 INF] VideoConversion.Controllers.ConversionController: 音频编码: aac
[2025-07-16 17:01:36.018 INF] VideoConversion.Controllers.ConversionController: 开始保存任务到数据库...
[2025-07-16 17:01:36.020 INF] VideoConversion.Services.DatabaseService: 📝 开始插入任务到数据库
[2025-07-16 17:01:36.020 INF] VideoConversion.Services.DatabaseService: 任务ID: 21f9a921-f6c6-47fc-8317-aeaa0463dacb
[2025-07-16 17:01:36.021 INF] VideoConversion.Services.DatabaseService: 任务名称: Test Upload - [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv
[2025-07-16 17:01:36.022 INF] VideoConversion.Services.DatabaseService: 原始文件: [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv
[2025-07-16 17:01:36.022 INF] VideoConversion.Services.DatabaseService: 输出格式: mp4
[2025-07-16 17:01:36.043 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:01:36.049 INF] VideoConversion.Services.DatabaseService: ✅ 数据库插入成功: 21f9a921-f6c6-47fc-8317-aeaa0463dacb (耗时: 25.8865ms)
[2025-07-16 17:01:36.050 INF] VideoConversion.Controllers.ConversionController: ✅ 任务保存到数据库成功: 21f9a921-f6c6-47fc-8317-aeaa0463dacb - Test Upload - [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv (耗时: 31.4388ms)
[2025-07-16 17:01:36.051 INF] VideoConversion.Services.LoggingService: 转换任务开始 - TaskId: 21f9a921-f6c6-47fc-8317-aeaa0463dacb, TaskName: Test Upload - [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv, InputFile: uploads\[Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E]_20250716_170135_92cdc8e6.mkv, OutputFormat: mp4
[2025-07-16 17:01:36.053 INF] VideoConversion.Controllers.ConversionController: 🎉 转换任务创建成功!
[2025-07-16 17:01:36.056 INF] VideoConversion.Controllers.ConversionController: 响应数据: {"success":true,"taskId":"21f9a921-f6c6-47fc-8317-aeaa0463dacb","taskName":"Test Upload - [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv","message":"转换任务已创建，正在队列中等待处理"}
[2025-07-16 17:01:36.059 INF] VideoConversion.Controllers.ConversionController: === 转换请求处理完成 ===
[2025-07-16 17:01:36.061 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-16 17:01:36.064 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action VideoConversion.Controllers.ConversionController.StartConversion (VideoConversion) in 2292.3834ms
[2025-07-16 17:01:36.065 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'VideoConversion.Controllers.ConversionController.StartConversion (VideoConversion)'
[2025-07-16 17:01:36.066 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5065/api/conversion/start - 200 null application/json; charset=utf-8 2303.6396ms
[2025-07-16 17:01:36.075 INF] VideoConversion.Services.ConversionQueueService: 启动转换任务: 21f9a921-f6c6-47fc-8317-aeaa0463dacb - Test Upload - [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv
[2025-07-16 17:01:36.081 INF] VideoConversion.Services.VideoConversionService: 开始转换视频: 21f9a921-f6c6-47fc-8317-aeaa0463dacb
[2025-07-16 17:01:36.082 INF] VideoConversion.Services.LoggingService: 转换任务开始 - TaskId: 21f9a921-f6c6-47fc-8317-aeaa0463dacb, TaskName: Test Upload - [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv, InputFile: [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv, OutputFormat: mp4
[2025-07-16 17:01:36.111 INF] VideoConversion.Services.DatabaseService: 更新任务状态: 21f9a921-f6c6-47fc-8317-aeaa0463dacb -> "Converting"
[2025-07-16 17:01:36.147 ERR] VideoConversion.Services.VideoConversionService: 视频转换失败: 21f9a921-f6c6-47fc-8317-aeaa0463dacb
Xabe.FFmpeg.Exceptions.FFmpegNotFoundException: Cannot find FFmpeg in PATH. This package needs installed FFmpeg. Please add it to your PATH variable or specify path to DIRECTORY with FFmpeg executables in FFmpeg.ExecutablesPath
   at Xabe.FFmpeg.FFmpeg.ValidateExecutables()
   at Xabe.FFmpeg.FFmpeg.FindAndValidateExecutables()
   at Xabe.FFmpeg.FFmpeg..ctor()
   at Xabe.FFmpeg.FFprobeWrapper..ctor()
   at Xabe.FFmpeg.MediaInfo.Get(String filePath, CancellationToken cancellationToken)
   at Xabe.FFmpeg.MediaInfo.Get(String filePath)
   at Xabe.FFmpeg.FFmpeg.GetMediaInfo(String fileName)
   at VideoConversion.Services.VideoConversionService.ConvertVideoAsync(ConversionTask task) in E:\newcode\VideoConversion\VideoConversion\Services\VideoConversionService.cs:line 117
[2025-07-16 17:01:36.151 ERR] VideoConversion.Services.LoggingService: 转换任务失败 - TaskId: 21f9a921-f6c6-47fc-8317-aeaa0463dacb, TaskName: Test Upload - [Dynamis One] 凡人修仙传 - 151 (B-Global Donghua 1920x1080 HEVC AAC MKV) [C215F53E].mkv
Xabe.FFmpeg.Exceptions.FFmpegNotFoundException: Cannot find FFmpeg in PATH. This package needs installed FFmpeg. Please add it to your PATH variable or specify path to DIRECTORY with FFmpeg executables in FFmpeg.ExecutablesPath
   at Xabe.FFmpeg.FFmpeg.ValidateExecutables()
   at Xabe.FFmpeg.FFmpeg.FindAndValidateExecutables()
   at Xabe.FFmpeg.FFmpeg..ctor()
   at Xabe.FFmpeg.FFprobeWrapper..ctor()
   at Xabe.FFmpeg.MediaInfo.Get(String filePath, CancellationToken cancellationToken)
   at Xabe.FFmpeg.MediaInfo.Get(String filePath)
   at Xabe.FFmpeg.FFmpeg.GetMediaInfo(String fileName)
   at VideoConversion.Services.VideoConversionService.ConvertVideoAsync(ConversionTask task) in E:\newcode\VideoConversion\VideoConversion\Services\VideoConversionService.cs:line 117
[2025-07-16 17:01:36.162 INF] VideoConversion.Services.DatabaseService: 更新任务状态: 21f9a921-f6c6-47fc-8317-aeaa0463dacb -> "Failed"
[2025-07-16 17:01:46.003 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/History - null null
[2025-07-16 17:01:46.007 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/History'
[2025-07-16 17:01:46.009 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Route matched with {page = "/History", action = "", controller = ""}. Executing page /History
[2025-07-16 17:01:46.010 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executing handler method VideoConversion.Pages.HistoryModel.OnGet - ModelState is "Valid"
[2025-07-16 17:01:46.011 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed handler method OnGet, returned result .
[2025-07-16 17:01:46.012 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executing an implicit handler method - ModelState is "Valid"
[2025-07-16 17:01:46.013 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
[2025-07-16 17:01:46.020 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed page /History in 9.8187ms
[2025-07-16 17:01:46.021 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/History'
[2025-07-16 17:01:46.022 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/History - 200 null text/html; charset=utf-8 19.1226ms
[2025-07-16 17:01:46.028 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/_framework/aspnetcore-browser-refresh.js - null null
[2025-07-16 17:01:46.028 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/_vs/browserLink - null null
[2025-07-16 17:01:46.028 INF] VideoConversion.Hubs.ConversionHub: 客户端断开连接: FI3Rm_WjiQWrVv5959-0Xw
[2025-07-16 17:01:46.029 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 1.887ms
[2025-07-16 17:01:46.032 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/conversionHub'
[2025-07-16 17:01:46.037 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.9946ms
[2025-07-16 17:01:46.040 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/conversionHub?id=XYcYFe_MdaPydWciXIo2hg - 101 null null 28345.0765ms
[2025-07-16 17:01:46.061 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - null 0
[2025-07-16 17:01:46.063 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:01:46.064 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub/negotiate'
[2025-07-16 17:01:46.064 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/conversionHub/negotiate'
[2025-07-16 17:01:46.065 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - 200 316 application/json 4.0334ms
[2025-07-16 17:01:46.074 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/api/conversion/tasks?page=1&pageSize=20&status=&search= - null null
[2025-07-16 17:01:46.076 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'VideoConversion.Controllers.ConversionController.GetTasks (VideoConversion)'
[2025-07-16 17:01:46.081 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTasks", controller = "Conversion", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTasks(Int32, Int32, System.String, System.String) on controller VideoConversion.Controllers.ConversionController (VideoConversion).
[2025-07-16 17:01:46.083 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:01:46.083 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/conversionHub?id=S6r4uU_1bHjw9zFSkTcfVw - null null
[2025-07-16 17:01:46.084 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:01:46.087 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:01:46.088 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub'
[2025-07-16 17:01:46.091 INF] VideoConversion.Hubs.ConversionHub: 客户端连接: 6e5PaPL3InwgTWjEzWJUww
[2025-07-16 17:01:46.094 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType5`4[[System.Collections.Generic.List`1[[<>f__AnonymousType6`16[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[VideoConversion.Models.ConversionStatus, VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-16 17:01:46.107 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action VideoConversion.Controllers.ConversionController.GetTasks (VideoConversion) in 23.116ms
[2025-07-16 17:01:46.108 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'VideoConversion.Controllers.ConversionController.GetTasks (VideoConversion)'
[2025-07-16 17:01:46.109 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/api/conversion/tasks?page=1&pageSize=20&status=&search= - 200 null application/json; charset=utf-8 34.9883ms
[2025-07-16 17:01:49.798 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/api/conversion/tasks?page=1&pageSize=20&status=&search= - null null
[2025-07-16 17:01:49.799 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'VideoConversion.Controllers.ConversionController.GetTasks (VideoConversion)'
[2025-07-16 17:01:49.800 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTasks", controller = "Conversion", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTasks(Int32, Int32, System.String, System.String) on controller VideoConversion.Controllers.ConversionController (VideoConversion).
[2025-07-16 17:01:49.801 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:01:49.803 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType5`4[[System.Collections.Generic.List`1[[<>f__AnonymousType6`16[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[VideoConversion.Models.ConversionStatus, VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-16 17:01:49.806 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action VideoConversion.Controllers.ConversionController.GetTasks (VideoConversion) in 5.0632ms
[2025-07-16 17:01:49.807 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'VideoConversion.Controllers.ConversionController.GetTasks (VideoConversion)'
[2025-07-16 17:01:49.807 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/api/conversion/tasks?page=1&pageSize=20&status=&search= - 200 null application/json; charset=utf-8 9.7657ms
[2025-07-16 17:01:50.613 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/api/conversion/tasks?page=1&pageSize=20&status=&search= - null null
[2025-07-16 17:01:50.614 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'VideoConversion.Controllers.ConversionController.GetTasks (VideoConversion)'
[2025-07-16 17:01:50.615 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetTasks", controller = "Conversion", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTasks(Int32, Int32, System.String, System.String) on controller VideoConversion.Controllers.ConversionController (VideoConversion).
[2025-07-16 17:01:50.616 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:01:50.618 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type '<>f__AnonymousType5`4[[System.Collections.Generic.List`1[[<>f__AnonymousType6`16[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[VideoConversion.Models.ConversionStatus, VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-07-16 17:01:50.621 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action VideoConversion.Controllers.ConversionController.GetTasks (VideoConversion) in 4.6673ms
[2025-07-16 17:01:50.622 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'VideoConversion.Controllers.ConversionController.GetTasks (VideoConversion)'
[2025-07-16 17:01:50.622 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/api/conversion/tasks?page=1&pageSize=20&status=&search= - 200 null application/json; charset=utf-8 9.2748ms
[2025-07-16 17:01:52.788 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/ - null null
[2025-07-16 17:01:52.791 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/Index'
[2025-07-16 17:01:52.792 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
[2025-07-16 17:01:52.792 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executing handler method VideoConversion.Pages.IndexModel.OnGet - ModelState is "Valid"
[2025-07-16 17:01:52.793 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed handler method OnGet, returned result .
[2025-07-16 17:01:52.794 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executing an implicit handler method - ModelState is "Valid"
[2025-07-16 17:01:52.794 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
[2025-07-16 17:01:52.798 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed page /Index in 5.4648ms
[2025-07-16 17:01:52.799 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/Index'
[2025-07-16 17:01:52.799 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/ - 200 null text/html; charset=utf-8 11.6487ms
[2025-07-16 17:01:52.803 INF] VideoConversion.Hubs.ConversionHub: 客户端断开连接: 6e5PaPL3InwgTWjEzWJUww
[2025-07-16 17:01:52.804 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/conversionHub'
[2025-07-16 17:01:52.805 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/conversionHub?id=S6r4uU_1bHjw9zFSkTcfVw - 101 null null 6721.8091ms
[2025-07-16 17:01:52.806 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/_framework/aspnetcore-browser-refresh.js - null null
[2025-07-16 17:01:52.806 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/_vs/browserLink - null null
[2025-07-16 17:01:52.809 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 3.6215ms
[2025-07-16 17:01:52.820 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.9608ms
[2025-07-16 17:01:52.820 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - null 0
[2025-07-16 17:01:52.825 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:01:52.826 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub/negotiate'
[2025-07-16 17:01:52.827 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/conversionHub/negotiate'
[2025-07-16 17:01:52.827 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - 200 316 application/json 7.3187ms
[2025-07-16 17:01:52.834 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/api/conversion/recent - null null
[2025-07-16 17:01:52.837 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'VideoConversion.Controllers.ConversionController.GetRecentTasks (VideoConversion)'
[2025-07-16 17:01:52.839 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetRecentTasks", controller = "Conversion", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentTasks(Int32) on controller VideoConversion.Controllers.ConversionController (VideoConversion).
[2025-07-16 17:01:52.841 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:01:52.844 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`8[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[VideoConversion.Models.ConversionStatus, VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-07-16 17:01:52.848 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action VideoConversion.Controllers.ConversionController.GetRecentTasks (VideoConversion) in 6.5438ms
[2025-07-16 17:01:52.850 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'VideoConversion.Controllers.ConversionController.GetRecentTasks (VideoConversion)'
[2025-07-16 17:01:52.851 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/api/conversion/recent - 200 null application/json; charset=utf-8 17.4634ms
[2025-07-16 17:01:52.869 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/conversionHub?id=mdnOD4k07YvXQIR4sExmCw - null null
[2025-07-16 17:01:52.871 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:01:52.872 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub'
[2025-07-16 17:01:52.875 INF] VideoConversion.Hubs.ConversionHub: 客户端连接: N9B01BSklm6TyeRd4vzCEw
[2025-07-16 17:01:56.098 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:02:06.110 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:02:16.117 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:02:26.132 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:02:36.141 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:02:46.144 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:02:56.160 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:03:06.168 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:03:16.183 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:03:26.187 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:03:36.194 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:03:46.199 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:03:56.209 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:04:06.227 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:04:06.749 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/ - null null
[2025-07-16 17:04:06.755 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/Index'
[2025-07-16 17:04:06.756 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
[2025-07-16 17:04:06.758 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executing handler method VideoConversion.Pages.IndexModel.OnGet - ModelState is "Valid"
[2025-07-16 17:04:06.759 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed handler method OnGet, returned result .
[2025-07-16 17:04:06.759 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executing an implicit handler method - ModelState is "Valid"
[2025-07-16 17:04:06.760 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
[2025-07-16 17:04:06.762 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker: Executed page /Index in 4.1499ms
[2025-07-16 17:04:06.763 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/Index'
[2025-07-16 17:04:06.763 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/ - 200 null text/html; charset=utf-8 14.4874ms
[2025-07-16 17:04:06.766 INF] VideoConversion.Hubs.ConversionHub: 客户端断开连接: N9B01BSklm6TyeRd4vzCEw
[2025-07-16 17:04:06.771 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/_vs/browserLink - null null
[2025-07-16 17:04:06.774 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/_framework/aspnetcore-browser-refresh.js - null null
[2025-07-16 17:04:06.774 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/conversionHub'
[2025-07-16 17:04:06.778 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.6477ms
[2025-07-16 17:04:06.779 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 5.1435ms
[2025-07-16 17:04:06.780 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/conversionHub?id=mdnOD4k07YvXQIR4sExmCw - 101 null null 133910.9145ms
[2025-07-16 17:04:06.783 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - null 0
[2025-07-16 17:04:06.789 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:04:06.789 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub/negotiate'
[2025-07-16 17:04:06.790 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/api/conversion/recent - null null
[2025-07-16 17:04:06.791 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/conversionHub/negotiate'
[2025-07-16 17:04:06.792 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'VideoConversion.Controllers.ConversionController.GetRecentTasks (VideoConversion)'
[2025-07-16 17:04:06.793 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 POST http://localhost:5065/conversionHub/negotiate?negotiateVersion=1 - 200 316 application/json 9.8382ms
[2025-07-16 17:04:06.794 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetRecentTasks", controller = "Conversion", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentTasks(Int32) on controller VideoConversion.Controllers.ConversionController (VideoConversion).
[2025-07-16 17:04:06.797 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:04:06.799 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType4`8[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[VideoConversion.Models.ConversionStatus, VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], VideoConversion, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-07-16 17:04:06.802 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action VideoConversion.Controllers.ConversionController.GetRecentTasks (VideoConversion) in 4.7278ms
[2025-07-16 17:04:06.805 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'VideoConversion.Controllers.ConversionController.GetRecentTasks (VideoConversion)'
[2025-07-16 17:04:06.806 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/api/conversion/recent - 200 null application/json; charset=utf-8 15.842ms
[2025-07-16 17:04:06.816 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/conversionHub?id=JNTIeeTsEYkIC5-lM0XHmA - null null
[2025-07-16 17:04:06.817 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService: CORS policy execution successful.
[2025-07-16 17:04:06.818 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET http://localhost:5065/favicon.ico - null null
[2025-07-16 17:04:06.819 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/conversionHub'
[2025-07-16 17:04:06.821 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The file /favicon.ico was not modified
[2025-07-16 17:04:06.823 INF] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET http://localhost:5065/favicon.ico - 304 null image/x-icon 4.8159ms
[2025-07-16 17:04:06.826 INF] VideoConversion.Hubs.ConversionHub: 客户端连接: KxPkowpHz3F3V-iwnizA1A
[2025-07-16 17:04:16.234 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:04:26.240 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:04:36.254 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:04:46.258 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:04:56.269 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:05:06.280 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:05:16.287 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:05:26.295 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:05:36.299 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:05:46.308 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:05:56.319 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:06:06.335 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:06:16.347 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:06:26.354 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:06:36.367 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:06:46.376 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:06:56.392 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:07:06.404 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:07:16.410 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:07:26.424 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:07:36.433 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:07:46.440 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:07:56.450 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:08:06.452 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:08:16.459 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:08:26.476 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:08:36.494 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:08:46.506 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:08:56.520 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:09:06.526 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:09:16.543 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:09:26.555 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:09:36.562 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:09:46.570 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:09:56.579 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:10:06.595 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:10:16.601 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:10:26.608 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:10:36.625 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:10:46.637 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:10:56.643 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:11:06.647 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:11:16.657 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:11:26.669 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:11:36.683 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:11:46.689 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:11:56.701 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:12:06.708 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:12:16.714 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:12:26.721 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:12:36.724 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:12:46.734 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:12:56.747 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:13:06.761 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:13:16.771 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:13:26.776 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:13:36.792 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:13:46.803 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:13:56.819 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:14:06.823 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:14:16.839 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
[2025-07-16 17:14:26.855 INF] VideoConversion.Services.VideoConversionService: FFmpeg初始化完成
