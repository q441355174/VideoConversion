<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:VideoConversion_Client.Views"
        x:Class="VideoConversion_Client.MainWindow"
        Title="è§†é¢‘è½¬æ¢å·¥å…·"
        Width="1200" Height="800"
        MinWidth="1000" MinHeight="700"
        WindowStartupLocation="CenterScreen"
        >

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="320" />
        </Grid.ColumnDefinitions>

        <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
        <Border Grid.Row="0" Grid.ColumnSpan="2" Background="#2c3e50" Padding="20,12">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!-- æ ‡é¢˜å±…ä¸­ -->
                <StackPanel Grid.Column="0" Grid.ColumnSpan="2"
                           Orientation="Horizontal"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center">
                    <TextBlock Text="ðŸŽ¬" FontSize="20" Margin="0,0,8,0" />
                    <TextBlock Text="è§†é¢‘è½¬æ¢å·¥å…·"
                               FontSize="18"
                               FontWeight="Bold"
                               Foreground="White"
                               VerticalAlignment="Center" />
                </StackPanel>

                <!-- ç³»ç»Ÿè®¾ç½®æŒ‰é’® -->
                <Button Grid.Column="1"
                        Name="SystemSettingsBtn"
                        Background="Transparent"
                        BorderThickness="0"
                        Padding="12,8"
                        CornerRadius="6"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Right"
                        ToolTip.Tip="ç³»ç»Ÿè®¾ç½®"
                        Click="SystemSettingsBtn_Click">
                    <StackPanel Orientation="Horizontal" Spacing="6">
                        <TextBlock Text="âš™ï¸" FontSize="16" VerticalAlignment="Center" />
                        <TextBlock Text="è®¾ç½®"
                                   FontSize="12"
                                   Foreground="White"
                                   VerticalAlignment="Center" />
                    </StackPanel>
                    <Button.Styles>
                        <Style Selector="Button:pointerover">
                            <Setter Property="Background" Value="#34495e" />
                        </Style>
                        <Style Selector="Button:pressed">
                            <Setter Property="Background" Value="#1abc9c" />
                        </Style>
                    </Button.Styles>
                </Button>
            </Grid>
        </Border>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <Border HorizontalAlignment="Stretch" Padding="15,0,15,0" Grid.Row="1" Grid.Column="0" Background="#e0e0e0" >
            <Grid Name="MainContentGrid">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <!-- ç»Ÿä¸€çš„åˆ‡æ¢æŒ‰é’®åŒºåŸŸ -->
                <Border Grid.Row="0" HorizontalAlignment="Center" Margin="0,4,0,6"
                        Background="White" CornerRadius="20" Padding="1">
                    <StackPanel Orientation="Horizontal" Spacing="0">
                        <Button Name="ConvertingStatusBtn"
                                Content="æ­£åœ¨è½¬æ¢"
                                Background="#9b59b6"
                                Foreground="White"
                                BorderThickness="0"
                                Padding="20,6"
                                CornerRadius="18"
                                FontSize="13"
                                Margin="1"
                                Click="ConvertingStatusBtn_Click" />
                        <Button Name="CompletedStatusBtn"
                                Content="è½¬æ¢å®Œæˆ"
                                Background="#f0f0f0"
                                Foreground="#666"
                                BorderThickness="0"
                                Padding="20,6"
                                CornerRadius="18"
                                FontSize="13"
                                Margin="1"
                                Click="CompletedStatusBtn_Click" />
                    </StackPanel>
                </Border>

                <!-- é¡µé¢å†…å®¹åŒºåŸŸ -->
                <Grid Grid.Row="1" Name="PageContentGrid">
                    <!-- æ–‡ä»¶ä¸Šä¼ ç•Œé¢ -->
                    <views:FileUploadView Name="FileUploadView" IsVisible="True" />

                    <!-- è½¬æ¢å®Œæˆç•Œé¢ -->
                    <views:ConversionCompletedView Name="ConversionCompletedView" IsVisible="False" />
                </Grid>
            </Grid>
        </Border>

        <!-- å³ä¾§æœåŠ¡å™¨çŠ¶æ€é¢æ¿ -->
        <Border Grid.Row="1" Grid.Column="1" Background="#f8f9fa" BorderBrush="#dee2e6" BorderThickness="1,0,0,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="15" Spacing="15">

                    <!-- æœåŠ¡å™¨è¿žæŽ¥çŠ¶æ€ -->
                    <Border Background="White" CornerRadius="8" Padding="15" BoxShadow="0 2 8 rgba(0,0,0,0.1)">
                        <StackPanel Spacing="10">
                            <TextBlock Text="ðŸŒ æœåŠ¡å™¨çŠ¶æ€" FontWeight="Bold" FontSize="14" Foreground="#2c3e50" />
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <Ellipse Name="ServerStatusIndicator" Width="12" Height="12" Fill="#28a745" />
                                <TextBlock Name="ServerStatusText" Text="å·²è¿žæŽ¥" FontSize="12" Foreground="#6c757d" />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="SignalR:" FontSize="11" Foreground="#6c757d" />
                                <Ellipse Name="SignalRStatusIndicator" Width="10" Height="10" Fill="#28a745" />
                                <TextBlock Name="SignalRStatusText" Text="å·²è¿žæŽ¥" FontSize="11" Foreground="#6c757d" />
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- ç£ç›˜ç©ºé—´çŠ¶æ€ -->
                    <Border Background="White" CornerRadius="8" Padding="15" BoxShadow="0 2 8 rgba(0,0,0,0.1)">
                        <StackPanel Spacing="12">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="ðŸ’¾ ç£ç›˜ç©ºé—´" FontWeight="Bold" FontSize="14" Foreground="#2c3e50" />
                                <Button Name="RefreshSpaceBtn" Content="ðŸ”„" FontSize="10" Padding="4"
                                        Background="Transparent" BorderThickness="0" ToolTip.Tip="åˆ·æ–°ç©ºé—´ä¿¡æ¯" />
                            </StackPanel>

                            <!-- ç©ºé—´ä½¿ç”¨è¿›åº¦æ¡ -->
                            <StackPanel Spacing="6">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="å·²ä½¿ç”¨:" FontSize="11" Foreground="#6c757d" />
                                    <TextBlock Name="UsedSpaceText" Text="0 GB" FontSize="11" FontWeight="SemiBold" />
                                    <TextBlock Text="/" FontSize="11" Foreground="#6c757d" />
                                    <TextBlock Name="TotalSpaceText" Text="100 GB" FontSize="11" FontWeight="SemiBold" />
                                </StackPanel>
                                <ProgressBar Name="DiskUsageProgressBar" Height="8" Background="#e9ecef"
                                           Foreground="#007bff" CornerRadius="4" Value="0" Maximum="100" />
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="å¯ç”¨:" FontSize="11" Foreground="#6c757d" />
                                    <TextBlock Name="AvailableSpaceText" Text="100 GB" FontSize="11" Foreground="#28a745" FontWeight="SemiBold" />
                                </StackPanel>
                            </StackPanel>

                            <!-- ç©ºé—´è­¦å‘Š -->
                            <Border Name="SpaceWarningPanel" Background="#fff3cd" BorderBrush="#ffeaa7"
                                    BorderThickness="1" CornerRadius="4" Padding="8" IsVisible="False">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <TextBlock Text="âš ï¸" FontSize="12" />
                                    <TextBlock Name="SpaceWarningText" Text="ç£ç›˜ç©ºé—´ä¸è¶³" FontSize="11"
                                               Foreground="#856404" TextWrapping="Wrap" />
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>

                    <!-- å½“å‰ä»»åŠ¡çŠ¶æ€ -->
                    <Border Background="White" CornerRadius="8" Padding="15" BoxShadow="0 2 8 rgba(0,0,0,0.1)">
                        <StackPanel Spacing="10">
                            <TextBlock Text="âš¡ å½“å‰ä»»åŠ¡" FontWeight="Bold" FontSize="14" Foreground="#2c3e50" />

                            <!-- æ— ä»»åŠ¡çŠ¶æ€ -->
                            <StackPanel Name="NoTaskPanel" Spacing="6">
                                <TextBlock Text="æš‚æ— è¿›è¡Œä¸­çš„ä»»åŠ¡" FontSize="12" Foreground="#6c757d"
                                           HorizontalAlignment="Center" Margin="0,10" />
                            </StackPanel>

                            <!-- æœ‰ä»»åŠ¡çŠ¶æ€ -->
                            <StackPanel Name="ActiveTaskPanel" Spacing="8" IsVisible="False">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="ä»»åŠ¡:" FontSize="11" Foreground="#6c757d" />
                                    <TextBlock Name="CurrentTaskNameText" Text="æ‰¹é‡è½¬æ¢" FontSize="11" FontWeight="SemiBold" />
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="æ–‡ä»¶:" FontSize="11" Foreground="#6c757d" />
                                    <TextBlock Name="CurrentFileNameText" Text="video.mp4" FontSize="11"
                                               TextTrimming="CharacterEllipsis" MaxWidth="180" />
                                </StackPanel>
                                <StackPanel Spacing="4">
                                    <StackPanel Orientation="Horizontal" Spacing="8">
                                        <TextBlock Name="TaskProgressText" Text="è½¬æ¢ä¸­... 45%" FontSize="11" />
                                        <TextBlock Name="TaskSpeedText" Text="1.2x" FontSize="11" Foreground="#28a745" />
                                    </StackPanel>
                                    <ProgressBar Name="TaskProgressBar" Height="6" Background="#e9ecef"
                                               Foreground="#28a745" CornerRadius="3" Value="45" Maximum="100" />
                                    <TextBlock Name="TaskETAText" Text="é¢„è®¡å‰©ä½™: 2åˆ†30ç§’" FontSize="10"
                                               Foreground="#6c757d" HorizontalAlignment="Right" />
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- æ‰¹é‡ä»»åŠ¡çŠ¶æ€ -->
                    <Border Name="BatchTaskPanel" Background="White" CornerRadius="8" Padding="15"
                            BoxShadow="0 2 8 rgba(0,0,0,0.1)" IsVisible="False">
                        <StackPanel Spacing="10">
                            <TextBlock Text="ðŸ“‹ æ‰¹é‡ä»»åŠ¡" FontWeight="Bold" FontSize="14" Foreground="#2c3e50" />

                            <StackPanel Spacing="6">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="è¿›åº¦:" FontSize="11" Foreground="#6c757d" />
                                    <TextBlock Name="BatchProgressText" Text="2/5 æ–‡ä»¶" FontSize="11" FontWeight="SemiBold" />
                                </StackPanel>
                                <ProgressBar Name="BatchProgressBar" Height="6" Background="#e9ecef"
                                           Foreground="#007bff" CornerRadius="3" Value="40" Maximum="100" />

                                <!-- æ‰¹é‡ä»»åŠ¡æš‚åœçŠ¶æ€ -->
                                <Border Name="BatchPausedPanel" Background="#f8d7da" BorderBrush="#f5c6cb"
                                        BorderThickness="1" CornerRadius="4" Padding="8" IsVisible="False">
                                    <StackPanel Orientation="Horizontal" Spacing="6">
                                        <TextBlock Text="â¸ï¸" FontSize="12" />
                                        <TextBlock Name="BatchPausedText" Text="å› ç©ºé—´ä¸è¶³æš‚åœ" FontSize="11"
                                                   Foreground="#721c24" TextWrapping="Wrap" />
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- ç³»ç»Ÿä¿¡æ¯ -->
                    <Border Background="White" CornerRadius="8" Padding="15" BoxShadow="0 2 8 rgba(0,0,0,0.1)">
                        <StackPanel Spacing="8">
                            <TextBlock Text="â„¹ï¸ ç³»ç»Ÿä¿¡æ¯" FontWeight="Bold" FontSize="14" Foreground="#2c3e50" />

                            <StackPanel Spacing="4">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="æœåŠ¡å™¨ç‰ˆæœ¬:" FontSize="11" Foreground="#6c757d" />
                                    <TextBlock Name="ServerVersionText" Text="v1.0.0" FontSize="11" />
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="FFmpegç‰ˆæœ¬:" FontSize="11" Foreground="#6c757d" />
                                    <TextBlock Name="FFmpegVersionText" Text="6.0" FontSize="11" />
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="ç¡¬ä»¶åŠ é€Ÿ:" FontSize="11" Foreground="#6c757d" />
                                    <TextBlock Name="HardwareAccelText" Text="NVIDIA CUDA" FontSize="11" Foreground="#28a745" />
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <TextBlock Text="è¿è¡Œæ—¶é—´:" FontSize="11" Foreground="#6c757d" />
                                    <TextBlock Name="UptimeText" Text="2å¤© 5å°æ—¶" FontSize="11" />
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- å¿«é€Ÿæ“ä½œ -->
                    <Border Background="White" CornerRadius="8" Padding="15" BoxShadow="0 2 8 rgba(0,0,0,0.1)">
                        <StackPanel Spacing="10">
                            <TextBlock Text="ðŸ”§ å¿«é€Ÿæ“ä½œ" FontWeight="Bold" FontSize="14" Foreground="#2c3e50" />

                            <StackPanel Spacing="8">
                                <Button Name="ConfigSpaceBtn" Content="é…ç½®ç£ç›˜ç©ºé—´"
                                        Background="#007bff" Foreground="White"
                                        CornerRadius="4" Padding="8,6" FontSize="11"
                                        HorizontalAlignment="Stretch" />
                                <Button Name="CleanupFilesBtn" Content="æ¸…ç†ä¸´æ—¶æ–‡ä»¶"
                                        Background="#28a745" Foreground="White"
                                        CornerRadius="4" Padding="8,6" FontSize="11"
                                        HorizontalAlignment="Stretch" />
                                <Button Name="ViewLogsBtn" Content="æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—"
                                        Background="#6c757d" Foreground="White"
                                        CornerRadius="4" Padding="8,6" FontSize="11"
                                        HorizontalAlignment="Stretch" />
                            </StackPanel>
                        </StackPanel>
                    </Border>

                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- çŠ¶æ€æ  -->
        <Border Grid.Row="2" Grid.ColumnSpan="2" Background="#34495e" Padding="20,10">
                <TextBlock Name="StatusText"
                           Grid.Column="0"
                           Text="å°±ç»ª - è¯·é€‰æ‹©è§†é¢‘æ–‡ä»¶å¼€å§‹è½¬æ¢"
                           VerticalAlignment="Center"
                           FontSize="12"
                           Foreground="White" />
        </Border>
    </Grid>
</Window>
