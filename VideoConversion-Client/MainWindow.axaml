<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:VideoConversion_Client.Views"
        x:Class="VideoConversion_Client.MainWindow"
        Title="è§†é¢‘è½¬æ¢å·¥å…·"
        Width="1200" Height="800"
        MinWidth="1000" MinHeight="700"
        WindowStartupLocation="CenterScreen"
        >

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
        <Border Grid.Row="0" Background="#2c3e50" Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="ðŸŽ¬" FontSize="24" Margin="0,0,10,0" />
                    <TextBlock Text="è§†é¢‘è½¬æ¢å·¥å…·"
                               FontSize="20"
                               FontWeight="Bold"
                               Foreground="White"
                               VerticalAlignment="Center" />
                    <TextBlock Text="åŸºäºŽHandBrakeçš„å¼ºå¤§è§†é¢‘è½¬æ¢åŠŸèƒ½"
                               FontSize="12"
                               Foreground="#bdc3c7"
                               VerticalAlignment="Center"
                               Margin="20,0,0,0" />
                </StackPanel>

                <!-- è¿žæŽ¥çŠ¶æ€æŒ‡ç¤ºå™¨ -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="è¿žæŽ¥çŠ¶æ€:" FontSize="12" Foreground="#bdc3c7" Margin="0,0,8,0" />
                    <Border Name="ConnectionIndicator"
                            Width="12" Height="12"
                            Background="Red"
                            CornerRadius="6"
                            VerticalAlignment="Center" />
                    <TextBlock Name="ConnectionStatusText"
                               Text="æœªè¿žæŽ¥"
                               FontSize="12"
                               Foreground="#bdc3c7"
                               Margin="8,0,0,0" />
                </StackPanel>
            </Grid>
        </Border>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <Grid Grid.Row="1" Background="#ecf0f1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- å·¦ä¾§ï¼šæ–‡ä»¶ä¸Šä¼ å’Œè½¬æ¢è®¾ç½® -->
            <ScrollViewer Grid.Column="0" Margin="5,5,2,5">
                <StackPanel Spacing="5">

                    <!-- æ–‡ä»¶ä¸Šä¼ ç»„ä»¶ -->
                    <views:FileUploadView Name="FileUploadView" />

                    <!-- è½¬æ¢è®¾ç½®ç»„ä»¶ -->
                    <views:ConversionSettingsView Name="ConversionSettingsView" />


                    <!-- ä¸Šä¼ è¿›åº¦åŒºåŸŸ -->
                    <Border Name="UploadProgressSection"
                            Classes="modern-card progress-card"
                            IsVisible="False">
                        <StackPanel Spacing="15">
                            <StackPanel Orientation="Horizontal" Spacing="10">
                                <TextBlock Text="ðŸ“¤" FontSize="18" />
                                <TextBlock Text="æ–‡ä»¶ä¸Šä¼ è¿›åº¦" Classes="card-title" />
                            </StackPanel>

                            <ProgressBar Name="UploadProgressBar"
                                         Height="8"
                                         Maximum="100"
                                         Value="0"
                                         Classes="modern-progress" />

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                    <TextBlock Name="UploadPercentage" Text="0%" FontWeight="Bold" HorizontalAlignment="Center" />
                                    <TextBlock Text="å®Œæˆåº¦" FontSize="11" Foreground="#7f8c8d" HorizontalAlignment="Center" />
                                </StackPanel>

                                <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                    <TextBlock Name="UploadSpeed" Text="0 MB/s" FontWeight="Bold" HorizontalAlignment="Center" />
                                    <TextBlock Text="ä¸Šä¼ é€Ÿåº¦" FontSize="11" Foreground="#7f8c8d" HorizontalAlignment="Center" />
                                </StackPanel>

                                <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                                    <TextBlock Name="UploadTimeRemaining" Text="è®¡ç®—ä¸­..." FontWeight="Bold" HorizontalAlignment="Center" />
                                    <TextBlock Text="å‰©ä½™æ—¶é—´" FontSize="11" Foreground="#7f8c8d" HorizontalAlignment="Center" />
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>

            <!-- å³ä¾§ï¼šå½“å‰ä»»åŠ¡å’ŒåŽ†å²è®°å½• -->
            <ScrollViewer Grid.Column="1" Margin="2,5,5,5">
                <StackPanel Spacing="5">

                    <!-- å½“å‰ä»»åŠ¡ç»„ä»¶ -->
                    <views:CurrentTaskView Name="CurrentTaskView" />

                    <!-- æœ€è¿‘ä»»åŠ¡ç»„ä»¶ -->
                    <views:RecentTasksView Name="RecentTasksView" />

                    <!-- æµ‹è¯•è¿žæŽ¥æŒ‰é’® -->
                    <Button Name="TestConnectionButton"
                            Content="ðŸ”— æµ‹è¯•æœåŠ¡å™¨è¿žæŽ¥"
                            Classes="secondary-button"
                            HorizontalAlignment="Stretch"
                            Click="TestConnectionButton_Click" />
                </StackPanel>
            </ScrollViewer>
        </Grid>

        <!-- çŠ¶æ€æ  -->
        <Border Grid.Row="2" Background="#34495e" Padding="20,12">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <TextBlock Name="StatusText"
                           Grid.Column="0"
                           Text="å°±ç»ª - è¯·é€‰æ‹©è§†é¢‘æ–‡ä»¶å¼€å§‹è½¬æ¢"
                           VerticalAlignment="Center"
                           FontSize="13"
                           Foreground="White" />

                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="15">
                    <TextBlock Text="æœåŠ¡å™¨:" FontSize="12" Foreground="#bdc3c7" VerticalAlignment="Center" />
                    <TextBlock Name="ServerUrl" Text="localhost:5065" FontSize="12" Foreground="White" VerticalAlignment="Center" />
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
